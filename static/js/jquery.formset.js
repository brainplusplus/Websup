!function(e){e.fn.formset=function(t){var a=e.extend({},e.fn.formset.defaults,t),s=a.extraClasses.join(" "),r=e(this),d=function(e,t){a.extraClasses&&(e.removeClass(s),e.addClass(a.extraClasses[t%a.extraClasses.length]))},l=function(e,t,a){var s=new RegExp("("+t+"-\\d+-)|(^)"),r=t+"-"+a+"-";e.attr("for")&&e.attr("for",e.attr("for").replace(s,r)),e.attr("id")&&e.attr("id",e.attr("id").replace(s,r)),e.attr("name")&&e.attr("name",e.attr("name").replace(s,r))},n=function(e){return e.find("input,select,textarea,label").length>0},i=function(t){t.is("TR")?t.children(":last").append('<a  tabindex="-1" class="'+a.deleteCssClass+'" href="javascript:void(0)">'+a.deleteText+"</a>"):t.is("UL")||t.is("OL")?t.append('<li><a class="'+a.deleteCssClass+'" href="javascript:void(0)">'+a.deleteText+"</a></li>"):t.append('<a class="'+a.deleteCssClass+'" href="javascript:void(0)">'+a.deleteText+"</a>"),t.find("a."+a.deleteCssClass).click(function(){var t=e(this).parents("."+a.formCssClass),s=t.find('input:hidden[id $= "-DELETE"]');if(s.length)s.val("on"),t.hide();else{t.remove();var r=e("."+a.formCssClass).not(".formset-custom-template");e("#id_"+a.prefix+"-TOTAL_FORMS").val(r.length);for(var n=0,i=r.length;i>n;n++)d(r.eq(n),n),r.eq(n).find("input,select,textarea,label").each(function(){l(e(this),a.prefix,n)})}return a.removed&&a.removed(t),!1})};if(r.each(function(t){var s=e(this),r=s.find('input:checkbox[id $= "-DELETE"]');r.length&&(r.before('<input type="hidden" name="'+r.attr("name")+'" id="'+r.attr("id")+'" />'),r.remove()),n(s)&&(i(s),s.addClass(a.formCssClass),d(s,t))}),r.length){var o,f;if(a.formTemplate?(f=a.formTemplate instanceof e?a.formTemplate:e(a.formTemplate),f.removeAttr("id").addClass(a.formCssClass).addClass("formset-custom-template"),f.find("input,select,textarea,label").each(function(){l(e(this),a.prefix,2012)}),i(f)):(f=e("."+a.formCssClass+":last").clone(!0).removeAttr("id"),f.find('input:hidden[id $= "-DELETE"]').remove(),f.find("input,select,textarea,label").each(function(){var t=e(this);t.is("input:checkbox")||t.is("input:radio")?t.attr("checked",!1):t.val("")})),a.formTemplate=f,"TR"==r.attr("tagName")){var c=r.eq(0).children().length;r.parent().append('<tr><td colspan="'+c+'"><a class="'+a.addCssClass+'" href="javascript:void(0)">'+a.addText+"</a></tr>"),o=r.parent().find("tr:last a"),o.parents("tr").addClass(a.formCssClass+"-add")}else e("#table").after('<div class="row"> <div class="col-md-3 col-md-offset-3" id="addbutton"><button class="'+a.addCssClass+'" href="javascript:void(0)">'+a.addText+"</button></div></div>"),o=e("#addbutton");o.click(function(){var t=parseInt(e("#id_"+a.prefix+"-TOTAL_FORMS").val()),s=a.formTemplate.clone(!0).removeClass("formset-custom-template"),r=e("tbody .link-formset").last();return d(s,t),s.insertAfter(e(r)).show(),s.find("input,select,textarea,label").each(function(){l(e(this),a.prefix,t)}),e("#id_"+a.prefix+"-TOTAL_FORMS").val(t+1),a.added&&a.added(s),!1})}return r},e.fn.formset.defaults={prefix:"form",formTemplate:null,addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",formCssClass:"dynamic-form",extraClasses:[],added:null,removed:null}}(jQuery);